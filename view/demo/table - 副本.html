<!DOCTYPE html>
<html lang="en" ng-app="app" ng-controller="ctrl_1">
<head>
	<meta charset="UTF-8">
	<title>后台管理系统</title>
	<link rel="stylesheet" href="/node_modules/bootstrap/dist/css/bootstrap.min.css">
	<link rel="stylesheet" href="/static/css/app.css"></head>
<body>
	<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
		<div class="container-fluid">
			<!-- Brand and toggle get grouped for better mobile display -->
			<div class="navbar-header">
				<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
					<span class="sr-only">Toggle navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<a class="navbar-brand" href="#">东易日盛CRM管理系统</a>
			</div>

			<!-- Collect the nav links, forms, and other content for toggling -->
			<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
				<ul class="nav navbar-nav navbar-right">
					<li class="dropdown">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown">
							admin
							<span class="caret"></span>
						</a>
						<ul class="dropdown-menu" role="menu">
							<li>
								<a href="#">退出</a>
							</li>
						</ul>
					</li>
				</ul>
			</div>
			<!-- /.navbar-collapse -->
		</div>
		<!-- /.container-fluid -->
	</nav>
	<div class="container-fluid">
		<ul class="nav nav-tabs" role="tablist">
			<li>
				<a href="index.html">导航</a>
			</li>
			<li class="active">
				<a href="table.html">表格</a>
			</li>
			<li>
				<a href="form.html">表单</a>
			</li>
		</ul>
		<!-- Table -->
		<div class="box">
			<div class="box-header">
				<div id="form" class="form-inline">
					<div class="form-group">
						<p class="form-control-static">搜索条件：</p>
					</div>
					<div class="form-group">
						<input type="text" name="sid" value="" class="form-control" placeholder="专题ID"></div>
					<div class="form-group">
						<select name="" class="form-control">
							<option value="1">11</option>
						</select>

					</div>
					<button type="submit" class="btn btn-primary"> <i class="glyphicon glyphicon-search"></i>
						搜索
					</button>
				</div>
			</div>
			<div class="box-body">
				<table class="table" ng-show="tableShow">
					<thead>
						<tr>
							<th width="40" class="text-center">
								<input type="checkbox" ng-model="selectAll">
							</th>
							<th>标题</th>
							<th>标题</th>
							<th width="120" class="text-center">操作</th>
						</tr>
					</thead>
					<tbody>
						<tr ng-repeat="x in data">
							<td class="text-center">
								<input type="checkbox" ng-checked="selectAll">
							</td>
							<td ng-bind="x.subject"></td>
							<td ng-bind="x.designer_name"></td>
							<td class="text-center">
								<div class="btn-group">
									<a href="#" class="btn btn-default btn-sm" title="修改"> <i class="glyphicon glyphicon-pencil"></i>
									</a>
									<a href="#" class="btn btn-default btn-sm" title="删除" ng-click="del(x)">
										<i class="glyphicon glyphicon-trash"></i>
									</a>
								</div>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
			<div class="box-footer">
				<div class="row">
					<div class="col-xs-4"></div>
					<div class="col-xs-8 form-inline text-right">
						<!-- <page-directive></page-directive> -->
						<ul uib-pagination total-items="bigTotalItems" ng-model="bigCurrentPage" max-size="maxSize" class="pagination-sm" num-pages="numPages" boundary-link-numbers="true"></ul>
						<pre>Page: {{bigCurrentPage}} / {{numPages}}</pre>
					</div>
				</div>
			</div>
			<!-- 加载loading -->
			<div ng-hide="loadingHide" ng-include="'/template/loading.html'"></div>
		</div>
	</div>
	
	<!-- 确认提示框 -->
	<div ng-include="'/template/confirm.html'"></div>



	<script src="/node_modules/angular/angular.min.js"></script>
	<script src="/node_modules/angular-ui-bootstrap/dist/ui-bootstrap-tpls.js"></script>

	<!-- <script src="/node_modules/jquery/dist/jquery.min.js"></script> -->
	<!-- <script src="/node_modules/bootstrap/dist/js/bootstrap.min.js"></script> -->
	<script src="/static/js/app.js"></script>
	<script type="text/javascript">
		app.controller('ctrl_1', function($scope, $http, $timeout) {
			$http.get("http://m.jiajuol.com/partner/weixin/subject/subject_list.php").success(function(response) {
				$scope.data = response.data;
				$scope.tableShow = true;
				$timeout(function(){
					$scope.loadingHide = true;
				},200)
				$scope.del=function(opt){
					$scope.confirm_info='确定要删除 '+opt.subject+' ？';
					$('#confirm').modal('show');
				}
				$scope.confirm_ok=function(opt){
					$('#confirm').modal('hide');
				}





				  $scope.maxSize = 4;
				  $scope.bigTotalItems = 100;
				  $scope.bigCurrentPage = 1;
				  $scope.totalItems = 100;
				  // $scope.totalItems = 1;

			});
		});
	</script>
</body>
</html>